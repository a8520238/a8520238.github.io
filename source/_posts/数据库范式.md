---
title: 数据库范式
date: 2021-2-28
cover:
top_img:
categories: 数据库
tags: 
mathjax: true
katex: true
---
# 数据库范式

## 1 范式(TO DO)

### 第一范式： 
每一个分量必须是不可分的数据项，满足这个条件就属于第一范式。（不可拆分）

### 第二范式：
每一个非主属性完全函数依赖于任何一个候选码，则属于第二范式。（主键唯一）

### 第三范式：
首先满足第二范式，所有非主属性不存在传递依赖。即某一属性可由其他属性所决定。（无传递依赖）

### BCNF范式（3.5范式）：
1.所有非主属性对每一个码都是完全函数依赖。

2.所有的主属性对每一个不包含它的码,也是完全函数依赖。

3.没有任何属性完全函数依赖于非码的任何一组属性。
（消除每一主属性对候选键的传递依赖）（每一个主属性，完全依赖于其他主属性）

要注意实现3.5范式可能会导致有的关系丢失，比如A和B 主属性能推出C主属性，拆分后消失。

若一张表的数据包括：“书号、书名、作者”其中，书号是唯一的，书名允许相同，一个书号对应一本书。一本书的作者可以多个，但是同一个作者所参与编著的书名应该是不同，希望没有说晕，看图看图。
       
![图](http://note.youdao.com/yws/public/resource/48c8f55a5e8491c6959ae977e7f8a4d1/xmlnote/ACE272CA6DDD473699F55DAF540A8E2D/2120)

      存在关系：
                  书号→书名
                  (书名、作者)→书号
      其中，每一个属性都为主属性，但是上述关系存在传递依赖，不能是BCNF。即：
                  (书名、作者)→书号→书名
                   (书名、作者)→书名   
      我们可以通过分解为两张表，实现BCNF。
                            

### 第四范式，已经是BC范式，且不包含多值依赖

多值依赖：一个关系，至少存在三个属性（A、B、C），才能存在这种关系。对于每一个A值，有一组确定的B值和C值，并且这组B的值独立于这组C的值。

例如，职工表(职工编号，职工孩子姓名，职工选修课程)，在这个表中，同一个职工可能会有多个职工孩子姓名，同样，同一个职工也可能会有多个职工选修课程，即这里存在着多值事实，不符合第四范式。如果要符合第四范式，只需要将上表分为两个表，使它们只有一个多值事实，例如职工表一(职工编号，职工孩子姓名)，职工表二(职工编号，职工选修课程)，两个表都只有一个多值事实，所以符合第四范式。

## 三、完全依赖、部分依赖、传递依赖

完全函数依赖、部分函数依赖和传递函数依赖举例 

1. 完全依赖： 通过{学生学号， 选修课程名}可以得到{该生本门选修课程的成绩}，而通过单独的{学生学号}或者单独的{选修课程名}都无法得到该成绩，则说明{该生本门选修课程的成绩}完全依赖于{学生学号，选修课程名}
2. 部分函数依赖： 通过{学生学号，课程号}可以得到{该生姓名}，而通过单独的{学生学号}已经能够得到{该生姓名}，则说明{该生姓名}部分依赖于{学生学号，课程号}； 又比如， 通过{学生学号，课程号}可以得到{课程名称}，而通过单独的{课程号}已经能够得到{课程名称}，则说明{课程名称}部分依赖于{学生学号，课程号}。（部分依赖会造成数据冗余及各种异常。）
3. 传递函数依赖： 在关系R（学号，宿舍，费用）中，通过{学号}可以得到{宿舍}，通过{宿舍}可以得到{费用}，而反之都不成立，则存在传递依赖{学号}->{费用}。（传递依赖也会造成数据冗余及各种异常。）